<mat-card fxFlex style="height: 100%;" [formGroup]="flogoFlowForm">

    <mat-card-header>
        <mat-card-title>Flogo Flow Configuration</mat-card-title>
    </mat-card-header>

    <mat-card-content>

        <div fxLayout="column" fxLayoutAlign="center start" style="height: 100%;">

            <div fxLayout="row" style="width: 100%;">
                <mat-tab-group style="width: 100%">
                    <mat-tab label="Application">

                        <div fxLayout="column" fxLayoutAlign="center start" style="width: 100%; padding-top: 20px">


                            <input type="file" class="file-input" accept="*.json" (change)="onFileSelected($event)"
                                style="display:none;" #fileUpload />
                            <mat-form-field fxFlex="1 1 90%" appearance="outline">

                                <mat-toolbar>
                                    <!-- <mat-label style='font-size:100%;font-weight:normal'>Flogo Defition File</mat-label> -->
                                    <input matInput disabled readonly placeholder="Select Flogo Definition File"
                                        style='font-size:70%;font-weight:normal' formControlName="flowFilename">

                                    <button mat-icon-button color="primary" (click)="fileUpload.click()">
                                        <mat-icon>upload_file</mat-icon>
                                    </button>
                                </mat-toolbar>

                            </mat-form-field>

                            <mat-form-field fxFlex="1 1 90%" appearance="outline">
                                <mat-label>Flow Definition</mat-label>
                                <textarea matInput disabled readonly formControlName="flowDefinition"></textarea>
                            </mat-form-field>

                        </div>

                    </mat-tab>

                    <mat-tab label="Properties">
                        <div class="table-wrapper">
                            <!--<textarea matInput rows="20" formControlName="flowProperties"></textarea>-->
                            <table mat-table [dataSource]="dataSource">
                                <ng-container matColumnDef="name">
                                    <th mat-header-cell *matHeaderCellDef> Name </th>
                                    <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
                                </ng-container>
                                <ng-container matColumnDef="type">
                                    <th mat-header-cell *matHeaderCellDef> Type </th>
                                    <td mat-cell *matCellDef="let element"> {{element.Type}} </td>
                                </ng-container>
                                <ng-container matColumnDef="value">
                                    <th mat-header-cell *matHeaderCellDef> Value </th>
                                    <td mat-cell *matCellDef="let element">
                                        <input matInput type="text" [value]="element.Value"
                                            (change)="dataSourceChanged()" appearance="outline">
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="columnHeader"></tr>
                                <tr mat-row *matRowDef="let row; columns: columnHeader;"></tr>
                            </table>
                        </div>
                    </mat-tab>

                    <mat-tab label="Volume">

                        <div fxLayout="column" fxLayoutAlign="center start" style="width: 100%; padding-top: 20px">

                            <mat-form-field fxFlex="1 1 90%" appearance="outline">
                                <mat-label>Volume Name</mat-label>
                                <input matInput formControlName="volumeName">
                            </mat-form-field>

                            <mat-form-field fxFlex="1 1 90%" appearance="outline">
                                <mat-label>Volume Path</mat-label>
                                <input matInput formControlName="volumePath">
                            </mat-form-field>

                        </div>

                    </mat-tab>
                </mat-tab-group>

            </div>


        </div>

    </mat-card-content>
</mat-card>