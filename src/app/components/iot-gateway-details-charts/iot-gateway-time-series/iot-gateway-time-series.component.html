<div fxLayout="row" fxLayoutGap="15px">
    <mat-card fxFlex>
        <mat-card-header>
            <div mat-card-avatar class="device-header-image"></div>
            <mat-card-title>Instrument Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form class="instrument-form" fxLayout="row wrap" fxLayoutGap="15px">
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Value Type</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.value.type">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Permission</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.value.readWrite">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Minimun Value</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.value.minimum">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Maximun Value</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.value.maximum">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Default Value</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.value.defaultValue">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Unit</mat-label>
                    <input matInput [readonly]=true [value]="instrument.properties.units.defaultValue">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Interface</mat-label>
                    <input matInput [readonly]=true [value]="instrument.attributes?.Interface">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Pin Number</mat-label>
                    <input matInput [readonly]=true [value]="instrument.attributes?.Pin_Num">
                </mat-form-field>
                <mat-form-field fxFlex="15%" appearance="outline">
                    <mat-label>Type</mat-label>
                    <input matInput [readonly]=true [value]="instrument.attributes?.Type">
                </mat-form-field>
            </form>
        </mat-card-content>
    </mat-card>
</div>
<div fxLayout="row" fxLayoutGap="15px" style="min-height: 300px">
    <mat-card fxFlex>
        <mat-card-header>
            <div mat-card-avatar class="instrument-history-image"></div>
            <mat-card-title>Intrument Readings History</mat-card-title>
        </mat-card-header>
        <mat-card-content>

            <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="space-around center center">
                <form [formGroup]="instrumentForm" class="instrument-form" fxLayout="row wrap" fxLayoutGap="15px">

                    <mat-form-field fxFlex="20%" appearance="fill">
                        <input matInput [disabled]="queryLastValuesDisabled" [matDatepicker]="pickerStartDate"
                            placeholder="Choose start date" (dateChange)="startDateEvent($event)">
                        <mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
                        <mat-datepicker #pickerStartDate></mat-datepicker>
                    </mat-form-field>

                    <mat-form-field fxFlex="20%" appearance="fill">
                        <input matInput [disabled]="queryLastValuesDisabled" [matDatepicker]="pickerEndDate"
                            placeholder="Choose end date" (dateChange)="endDateEvent($event)">
                        <mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
                        <mat-datepicker #pickerEndDate></mat-datepicker>
                    </mat-form-field>

                    <div class="query-row">
                        <button mat-raised-button [disabled]="queryByDateDisabled" (click)="onQueryByDateClicked()"
                            color="primary">Query By Date</button>
                        <button mat-raised-button [disabled]="queryLastValuesDisabled"
                            (click)="onQueryLastValuesClicked()" color="primary">Query Last 300 Values</button>
                        <button mat-raised-button [disabled]="queryLastValuesDisabled"
                            [routerLink]="['/starterApp/home/iotanomalydetectiondashboard']" color="primary">Anomaly
                            Analysis</button>
                    </div>
                </form>
            </div>

            <canvas baseChart [datasets]="chartDatasets" [options]="chartOptions" [colors]="lineChartColors"
                [legend]="chartLegend" [chartType]="chartType">
            </canvas>
        </mat-card-content>
    </mat-card>
</div>

<div fxLayout="row" fxLayoutGap="15px" style="min-height: 300px">
    <mat-card fxFlex>
        <mat-card-header>
            <div mat-card-avatar class="instrument-streaming-image"></div>
            <mat-card-title>Intrument Readings Streaming</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <canvas baseChart [datasets]="chartStreamingDatasets" [options]="chartStreamingOptions"
                [colors]="lineChartColors" [legend]="chartStreamingLegend" [chartType]="chartType">
            </canvas>
        </mat-card-content>
    </mat-card>
</div>